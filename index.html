<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Typing Speed Test</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #667eea;
        --secondary: #764ba2;
        --success: #22c55e;
        --danger: #ef4444;
        --bg: #0f172a;
        --card-bg: rgba(255, 255, 255, 0.12);
        --blur: blur(18px);
        --radius: 20px;
        --transition: all 0.3s ease;
      }

      body {
        font-family: "Inter", "Segoe UI", sans-serif;
        min-height: 100vh;
        background: radial-gradient(circle at top, #1e293b, #020617);
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
        color: #fff;
      }

      .container {
        width: 100%;
        max-width: 900px;
        background: var(--card-bg);
        backdrop-filter: var(--blur);
        border-radius: var(--radius);
        padding: 40px;
        box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
        animation: fadeUp 0.6s ease;
      }

      @keyframes fadeUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      h1 {
        text-align: center;
        font-size: 2.6rem;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .subtitle {
        text-align: center;
        opacity: 0.8;
        margin-bottom: 30px;
      }

      .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 15px;
        margin-bottom: 30px;
      }

      .stat-box {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        padding: 18px;
        border-radius: 14px;
        text-align: center;
        transition: var(--transition);
      }

      .stat-box:hover {
        transform: translateY(-6px) scale(1.03);
      }

      .stat-value {
        font-size: 2rem;
        font-weight: 700;
      }

      .stat-label {
        font-size: 0.85rem;
        opacity: 0.9;
      }

      .difficulty-select {
        display: flex;
        justify-content: center;
        gap: 12px;
        margin-bottom: 25px;
      }

      .difficulty-btn {
        padding: 8px 22px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.3);
        background: transparent;
        color: #fff;
        cursor: pointer;
        transition: var(--transition);
      }

      .difficulty-btn.active,
      .difficulty-btn:hover {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        border-color: transparent;
      }

      .text-display {
        background: rgba(255, 255, 255, 0.08);
        padding: 24px;
        border-radius: 14px;
        margin-bottom: 20px;
        font-size: 1.15rem;
        line-height: 1.8;
        min-height: 140px;
      }

      .correct {
        color: var(--success);
      }

      .incorrect {
        color: var(--danger);
        text-decoration: underline;
      }

      .current {
        background: #facc15;
        color: #000;
        border-radius: 4px;
        animation: blink 1s infinite;
      }

      @keyframes blink {
        50% {
          opacity: 0.5;
        }
      }

      .input-area {
        width: 100%;
        padding: 16px;
        border-radius: 14px;
        border: none;
        font-size: 1rem;
        margin-bottom: 25px;
        outline: none;
        background: rgba(255, 255, 255, 0.15);
        color: #fff;
      }

      .input-area::placeholder {
        color: rgba(255, 255, 255, 0.6);
      }

      .input-area:focus {
        box-shadow: 0 0 0 2px var(--primary);
      }

      .controls {
        display: flex;
        flex-wrap: wrap;
        gap: 14px;
        justify-content: center;
      }

      button,
      .time-select {
        padding: 12px 26px;
        border-radius: 999px;
        border: none;
        cursor: pointer;
        font-weight: 600;
        transition: var(--transition);
      }

      body.light {
        background: linear-gradient(135deg, #e0e7ff, #f8fafc);
        color: #111;
      }

      body.light .container {
        background: rgba(255, 255, 255, 0.85);
        color: #111;
      }

      body.light .text-display,
      body.light .input-area {
        background: rgba(0, 0, 0, 0.05);
        color: #111;
      }

      body.light .stat-box {
        color: #fff;
      }

      .start-btn {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: #fff;
      }

      .start-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 30px rgba(102, 126, 234, 0.4);
      }

      .reset-btn {
        background: rgba(255, 255, 255, 0.2);
        color: #fff;
      }

      .reset-btn:hover {
        background: rgba(255, 255, 255, 0.35);
      }

      .time-select {
        background: rgba(255, 255, 255, 0.2);
        color: #fff;
      }

      .result-modal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.65);
        z-index: 9999;
      }

      .result-content {
        max-width: 420px;
        width: 90%;
        transform-origin: center;
        animation: scaleFade 0.35s ease forwards;
      }

      @keyframes scaleFade {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      @media (max-width: 600px) {
        .container {
          padding: 25px;
        }

        h1 {
          font-size: 2rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>âŒ¨ Typing Speed Test</h1>
      <p class="subtitle">Test your typing speed and accuracy!</p>

      <div class="stats">
        <div class="stat-box">
          <span class="stat-value" id="wpm">0</span>
          <span class="stat-label">WPM</span>
        </div>
        <div class="stat-box">
          <span class="stat-value" id="accuracy">100%</span>
          <span class="stat-label">Accuracy</span>
        </div>
        <div class="stat-box">
          <span class="stat-value" id="timer">60</span>
          <span class="stat-label">Time (s)</span>
        </div>
        <div class="stat-box">
          <span class="stat-value" id="characters">0</span>
          <span class="stat-label">Characters</span>
        </div>
      </div>

      <div class="difficulty-select">
        <button class="difficulty-btn active" data-level="easy">Easy</button>
        <button class="difficulty-btn" data-level="medium">Medium</button>
        <button class="difficulty-btn" data-level="hard">Hard</button>
      </div>

      <div class="text-display" id="textDisplay">
        Click "Start Test" to begin typing...
      </div>

      <textarea
        class="input-area"
        id="inputArea"
        placeholder="Start typing here when the test begins..."
        disabled
        rows="4"
      ></textarea>

      <div class="controls">
        <select class="time-select" id="timeSelect">
          <option value="30">30 seconds</option>
          <option value="60" selected>60 seconds</option>
          <option value="120">2 minutes</option>
        </select>
        <button class="start-btn" id="startBtn">Start Test</button>
        <button class="reset-btn" id="resetBtn">Reset</button>
      </div>
    </div>

    <div class="result-modal" id="resultModal">
      <div class="result-content">
        <h2 class="result-title">ðŸŽ‰ Test Complete!</h2>
        <div class="result-stats">
          <div class="result-stat">
            <strong>Speed:</strong> <span id="finalWpm">0</span> WPM
          </div>
          <div class="result-stat">
            <strong>Accuracy:</strong> <span id="finalAccuracy">0</span>%
          </div>
          <div class="result-stat">
            <strong>Total Characters:</strong> <span id="finalChars">0</span>
          </div>
          <div class="result-stat">
            <strong>Correct Words:</strong> <span id="finalWords">0</span>
          </div>
        </div>
        <button class="close-modal" onclick="closeModal()">Close</button>
      </div>
    </div>

    <script>
      const texts = {
        easy: [
          "The quick brown fox jumps over the lazy dog. This is a simple sentence to test your typing speed.",
          "Learning to type fast is a valuable skill in today's digital world. Practice makes perfect.",
          "The sun sets beautifully over the calm ocean waters. Birds fly home as day turns to night.",
          "A good book can transport you to another world. Reading expands your mind and imagination.",
        ],
        medium: [
          "Technology has revolutionized the way we communicate, work, and live our daily lives. From smartphones to artificial intelligence, innovation continues to shape our future.",
          "The art of programming requires patience, logical thinking, and continuous learning. Every developer started as a beginner, making mistakes and learning from them.",
          "Climate change presents one of the greatest challenges facing humanity today. Sustainable practices and renewable energy sources offer hope for a better tomorrow.",
          "Music has the power to evoke emotions, bring people together, and transcend cultural boundaries. From classical symphonies to modern pop, every genre tells a unique story.",
        ],
        hard: [
          "Quantum computing represents a paradigm shift in computational capabilities, leveraging quantum mechanical phenomena such as superposition and entanglement to process information in fundamentally novel ways.",
          "The intricate relationship between neuroplasticity and cognitive development demonstrates the remarkable adaptability of the human brain throughout various stages of life, challenging previously held notions about fixed intelligence.",
          "Cryptocurrency and blockchain technology have emerged as disruptive forces in the financial sector, prompting discussions about decentralization, monetary policy, and the future of traditional banking institutions.",
          "The philosophical implications of artificial consciousness raise profound questions about the nature of sentience, self-awareness, and what it truly means to be intelligent in an increasingly automated world.",
        ],
      };

      let currentText = "";
      let startTime = null;
      let timerInterval = null;
      let timeLimit = 60;
      let isTestActive = false;
      let totalCharacters = 0;
      let correctCharacters = 0;
      let currentDifficulty = "easy";

      const textDisplay = document.getElementById("textDisplay");
      const inputArea = document.getElementById("inputArea");
      const startBtn = document.getElementById("startBtn");
      const resetBtn = document.getElementById("resetBtn");
      const timeSelect = document.getElementById("timeSelect");
      const timerDisplay = document.getElementById("timer");
      const wpmDisplay = document.getElementById("wpm");
      const accuracyDisplay = document.getElementById("accuracy");
      const charactersDisplay = document.getElementById("characters");
      const resultModal = document.getElementById("resultModal");

      // Difficulty selection
      document.querySelectorAll(".difficulty-btn").forEach((btn) => {
        btn.addEventListener("click", function () {
          document
            .querySelectorAll(".difficulty-btn")
            .forEach((b) => b.classList.remove("active"));
          this.classList.add("active");
          currentDifficulty = this.dataset.level;
          if (!isTestActive) {
            resetTest();
          }
        });
      });

      startBtn.addEventListener("click", startTest);
      resetBtn.addEventListener("click", resetTest);
      timeSelect.addEventListener("change", () => {
        timeLimit = parseInt(timeSelect.value);
        timerDisplay.textContent = timeLimit;
      });

      inputArea.addEventListener("input", handleInput);

      function startTest() {
        const textArray = texts[currentDifficulty];
        currentText = textArray[Math.floor(Math.random() * textArray.length)];
        textDisplay.innerHTML = currentText
          .split("")
          .map((char) => `<span>${char}</span>`)
          .join("");

        textDisplay.classList.add("active");
        inputArea.disabled = false;
        inputArea.focus();
        inputArea.value = "";

        startBtn.disabled = true;
        timeSelect.disabled = true;
        isTestActive = true;

        startTime = Date.now();
        timeLimit = parseInt(timeSelect.value);

        timerInterval = setInterval(updateTimer, 1000);
      }

      function handleInput() {
        const keySound = document.getElementById("keySound");
        keySound.currentTime = 0;
        keySound.play();

        if (!isTestActive) return;

        const inputValue = inputArea.value;
        const textSpans = textDisplay.querySelectorAll("span");

        totalCharacters = inputValue.length;
        correctCharacters = 0;

        textSpans.forEach((span, index) => {
          span.classList.remove("correct", "incorrect", "current");

          if (index < inputValue.length) {
            if (inputValue[index] === currentText[index]) {
              span.classList.add("correct");
              correctCharacters++;
            } else {
              span.classList.add("incorrect");
            }
          } else if (index === inputValue.length) {
            span.classList.add("current");
          }
        });

        updateStats();

        // Check if test is complete
        if (inputValue === currentText) {
          endTest();
        }
      }

      function updateTimer() {
        const elapsed = Math.floor((Date.now() - startTime) / 1000);
        const remaining = timeLimit - elapsed;

        if (remaining <= 0) {
          timerDisplay.textContent = 0;
          endTest();
        } else {
          timerDisplay.textContent = remaining;
        }
      }

      function updateStats() {
        // Calculate WPM
        const timeElapsed = (Date.now() - startTime) / 1000 / 60; // in minutes
        const wordsTyped = correctCharacters / 5; // standard word length
        const wpm = timeElapsed > 0 ? Math.round(wordsTyped / timeElapsed) : 0;

        // Calculate accuracy
        const accuracy =
          totalCharacters > 0
            ? Math.round((correctCharacters / totalCharacters) * 100)
            : 100;

        wpmDisplay.textContent = wpm;
        accuracyDisplay.textContent = accuracy + "%";
        charactersDisplay.textContent = totalCharacters;
      }

      function endTest() {
        isTestActive = false;
        clearInterval(timerInterval);
        inputArea.disabled = true;
        startBtn.disabled = false;
        timeSelect.disabled = false;
        textDisplay.classList.remove("active");

        showResults();
      }

      function showResults() {
        const timeElapsed = (Date.now() - startTime) / 1000 / 60;
        const wordsTyped = correctCharacters / 5;
        const wpm = timeElapsed > 0 ? Math.round(wordsTyped / timeElapsed) : 0;
        const accuracy =
          totalCharacters > 0
            ? Math.round((correctCharacters / totalCharacters) * 100)
            : 0;

        document.getElementById("finalWpm").textContent = wpm;
        document.getElementById("finalAccuracy").textContent = accuracy;
        document.getElementById("finalChars").textContent = totalCharacters;
        document.getElementById("finalWords").textContent =
          Math.floor(wordsTyped);

        resultModal.style.display = "flex";
      }

      function closeModal() {
        resultModal.style.display = "none";
      }

      function resetTest() {
        isTestActive = false;
        clearInterval(timerInterval);

        inputArea.value = "";
        inputArea.disabled = true;
        startBtn.disabled = false;
        timeSelect.disabled = false;

        timerDisplay.textContent = timeSelect.value;
        wpmDisplay.textContent = 0;
        accuracyDisplay.textContent = "100%";
        charactersDisplay.textContent = 0;

        textDisplay.innerHTML = 'Click "Start Test" to begin typing...';
        textDisplay.classList.remove("active");

        totalCharacters = 0;
        correctCharacters = 0;
      }

      // Initialize
      timerDisplay.textContent = timeLimit;
    </script>
    <audio
      id="keySound"
      src="https://assets.mixkit.co/sfx/preview/mixkit-keyboard-click-1124.mp3"
    ></audio>
  </body>
</html>

